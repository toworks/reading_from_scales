**последовательность выполнения запросов**  

**при старте**  
XM		- максимальный вес  
DN		- количество датчиков  
DCc		- коэффициент калибровки угла (c - номер датчика DC1)  
DTc		- темперетура ячейки  
DAc		- электропотребление ячейки  
DVc		- версия ПО ячейки  
DMc		- серийный номер ячейки  

**цикл опроса весов (взвешивание)**  
XZ		- статус весов  
YP		- вес нетто без едениц измерений  
DPс		- значение (points) ячейки  

**comments**  
> УА ООО Фирма "КОДА"  
> Главный программист отдела Автоматизации  
> Батюк Виталий Владимирович  
> v.batyuk@koda.ua  
>
> команда DP основная для вычисления массы на каждом датчике.  
> Эти значения берутся  при нулевой массе, и для вычисления массы при нагрузке.


**Используемые переменные** 
WghtT – общая масса на весах в кг;
wi – масса по датчикам (i  [1;8]) в кг;
ki – угловой коєффициент по датчикам (i  [1;8]);
di – масса в дискретах по датчикам (i  [1;8]);
zi – масса в дискретах при WghtT = 0, (i  [1;8]);
wgh1 – масса первой платформы ;
wgh2 – масса второй платформы ;
capa – НПВ весов в кг;
Lp – длина платформы в мм;
W – ширина платформы в мм;
Li – длина промежуточного элемента весов в мм;
xj– продольное смещение ЦТ по платформам (j  [1;2]) в мм;
yj – поперечное смещение ЦТ по платформам (j  [1;2]) в мм;
Xe – промежуточная  переменная используемая в расчете продольного смещения;
Xc – продольное смещение ЦТ весов в мм;
Yc – поперечное смещение ЦТ весов в мм;
Lb – длина базы взвешиваемого вагона в мм, вводится оператором;

**Расчет значения с датчика** 
pi  =  di*ki ;
При WghtT = 0 :  zi = pi ;
При WghtT ≠ 0 : pi = pi – zi;
Ps = pi+pi+pi+pi+pi+pi+pi+pi;  – сумма значений угловых коэффициентов;
ki = Ps/pi;
wi = WghtT/ki
